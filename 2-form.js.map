{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formData = {\r\n  email: '',\r\n  message: '',\r\n};\r\n\r\nconst LOCAL_STORAGE_KEY = 'feedback-form-state';\r\nconst form = document.querySelector('.feedback-form');\r\nform.addEventListener('input', formInput);\r\nfunction formInput(event) {\r\n  const fieldName = event.target.name;\r\n  const fieldValue = event.target.value;\r\n  formData[fieldName] = fieldValue;\r\n  localStorage.setItem('feedback-form-state', JSON.stringify(formData));\r\n}\r\ndocument.addEventListener('DOMContentLoaded', foo);\r\nfunction foo(event) {\r\n  const keyGet = localStorage.getItem('feedback-form-state');\r\n  if (!keyGet) return;\r\n  const dataParse = JSON.parse(keyGet);\r\n\r\n  if (dataParse.email) {\r\n    form.elements.email.value = dataParse.email;\r\n    formData.email = dataParse.email;\r\n  }\r\n  if (dataParse.message) {\r\n    form.elements.message.value = dataParse.message;\r\n    formData.message = dataParse.message;\r\n  }\r\n}\r\nform.addEventListener('submit', event => {\r\n  event.preventDefault();\r\n  if (formData.email === '' || formData.message === '') {\r\n    alert('Fill please all fields');\r\n    return;\r\n  }\r\n\r\n  console.log(formData);\r\n  form.reset();\r\n  localStorage.removeItem('feedback-form-state');\r\n});\r\n\r\nconst inputs = document.querySelectorAll(\r\n  '.feedback-form input, .feedback-form textarea'\r\n);\r\n\r\ninputs.forEach(input => {\r\n  const placeholderText = input.getAttribute('placeholder');\r\n\r\n  input.removeAttribute('placeholder');\r\n\r\n  input.addEventListener('focus', () => {\r\n    input.setAttribute('placeholder', placeholderText);\r\n  });\r\n\r\n  input.addEventListener('blur', () => {\r\n    input.removeAttribute('placeholder');\r\n  });\r\n});\r\n"],"names":["formData","form","formInput","event","fieldName","fieldValue","foo","keyGet","dataParse","inputs","input","placeholderText"],"mappings":"oDAAA,MAAMA,EAAW,CACf,MAAO,GACP,QAAS,EACX,EAGMC,EAAO,SAAS,cAAc,gBAAgB,EACpDA,EAAK,iBAAiB,QAASC,CAAS,EACxC,SAASA,EAAUC,EAAO,CACxB,MAAMC,EAAYD,EAAM,OAAO,KACzBE,EAAaF,EAAM,OAAO,MAChCH,EAASI,CAAS,EAAIC,EACtB,aAAa,QAAQ,sBAAuB,KAAK,UAAUL,CAAQ,CAAC,CACtE,CACA,SAAS,iBAAiB,mBAAoBM,CAAG,EACjD,SAASA,EAAIH,EAAO,CAClB,MAAMI,EAAS,aAAa,QAAQ,qBAAqB,EACzD,GAAI,CAACA,EAAQ,OACb,MAAMC,EAAY,KAAK,MAAMD,CAAM,EAE/BC,EAAU,QACZP,EAAK,SAAS,MAAM,MAAQO,EAAU,MACtCR,EAAS,MAAQQ,EAAU,OAEzBA,EAAU,UACZP,EAAK,SAAS,QAAQ,MAAQO,EAAU,QACxCR,EAAS,QAAUQ,EAAU,QAEjC,CACAP,EAAK,iBAAiB,SAAUE,GAAS,CAEvC,GADAA,EAAM,eAAc,EAChBH,EAAS,QAAU,IAAMA,EAAS,UAAY,GAAI,CACpD,MAAM,wBAAwB,EAC9B,MACD,CAED,QAAQ,IAAIA,CAAQ,EACpBC,EAAK,MAAK,EACV,aAAa,WAAW,qBAAqB,CAC/C,CAAC,EAED,MAAMQ,EAAS,SAAS,iBACtB,+CACF,EAEAA,EAAO,QAAQC,GAAS,CACtB,MAAMC,EAAkBD,EAAM,aAAa,aAAa,EAExDA,EAAM,gBAAgB,aAAa,EAEnCA,EAAM,iBAAiB,QAAS,IAAM,CACpCA,EAAM,aAAa,cAAeC,CAAe,CACrD,CAAG,EAEDD,EAAM,iBAAiB,OAAQ,IAAM,CACnCA,EAAM,gBAAgB,aAAa,CACvC,CAAG,CACH,CAAC"}